/*
 * jQuery Chaos Tabs
 * By Matthew Sigley
 * Version 1.1.0
 */
(function(c){function m(b){var d=window.location.href.substr(window.location.href.indexOf("#")+1).match(/tab\-(.+)/);if(null!=d){var f=decodeURIComponent(d[1]),g=!1;b.find(".tab-menu").find("li").each(function(){if(c(this).find("a").html()==f){b.find(".tab-menu").children(".active").removeClass("active");c(this).addClass("active");b.find(".tab-content").hide();var a=c(this).find("a").attr("rel");c(a).show();g=!0;return!1}});return g?f:!1}return!1}c.fn.simpleTabs=function(b){var d="",f="",g="";this.children(".tab").each(function(b, a){var e=c(a).find(".tab-title"),h=c(a).find(".tab-content");0==c('[id="tab-'+e.html()+'"], a[name="tab-'+e.html()+'"]').length&&(d+='<a name="tab-'+e.html()+'"></a>');f+="<li "+(0===b?'class="first"':"")+'><a href="#tab-'+e.html()+'" rel="#tab-'+b+'">'+e.html()+"</a></li>";g+='<div id="tab-'+b+'" class="tab-content">'+h.html()+"</div>"});this.html('<div id="tabs-wrap">'+d+'<ul class="tab-menu clearfix">'+f+"</ul>"+g+"</div>");this.find(".tab-content").hide();var a=m(this);if(a){var h=window.location.href.substr(window.location.href.indexOf("#")+ 1),l=c('[id="'+h+'"], a[name="'+h+'"]').get(0);"undefined"===typeof l&&(l=c('[id="'+decodeURIComponent(h)+'"], a[name="'+decodeURIComponent(h)+'"]').get(0));l.scrollIntoView(!0);b&&"function"===typeof b&&b(a)}else a=this.find(".tab-menu").find("li:first"),a.addClass("active"),this.find(".tab-content:first").show(),b&&"function"===typeof b&&b(a.find("a").html());var k=this,a=window.document.documentMode;"onhashchange"in window&&("undefined"===typeof a||8<=a)?window.onhashchange=function(c){(c=m(k))&& b&&"function"===typeof b&&b(c)}:c("body").find('a[href*="#tab-"]').click(function(){var a=c(this).attr("href"),a=a.substr(a.indexOf("#")+1),a=a.match(/tab\-(.+)/);if(null!=a){var d=decodeURIComponent(a[1]),e=!1;k.find(".tab-menu").find("li").each(function(){if(c(this).find("a").html()==d){k.find(".tab-menu").children(".active").removeClass("active");c(this).addClass("active");k.find(".tab-content").hide();var a=c(this).find("a").attr("rel");c(a).show();e=!0;return!1}});e&&b&&"function"===typeof b&& b(d)}});return this}})(jQuery);